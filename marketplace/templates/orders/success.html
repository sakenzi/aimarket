{% extends "base/base.html" %}
{% load humanize %}

{% block title %}–ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto px-4 py-16 text-center">
    <div class="text-8xl mb-6 animate-bounce">üéâ</div>
    <h1 class="text-4xl font-black text-gray-900 mb-3">–ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω!</h1>
    <p class="text-gray-500 text-lg mb-8">–ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞: <span class="font-black text-yellow-600">#{{ order.order_number }}</span></p>

    <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left mb-8">
        <h2 class="font-black text-gray-900 mb-4">–î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞</h2>
        <div class="grid sm:grid-cols-2 gap-4 text-sm mb-5">
            <div>
                <p class="text-gray-500">–ü–æ–ª—É—á–∞—Ç–µ–ª—å</p>
                <p class="font-semibold text-gray-900">{{ order.full_name }}</p>
            </div>
            <div>
                <p class="text-gray-500">–¢–µ–ª–µ—Ñ–æ–Ω</p>
                <p class="font-semibold text-gray-900">{{ order.phone }}</p>
            </div>
            <div class="sm:col-span-2">
                <p class="text-gray-500">–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏</p>
                <p class="font-semibold text-gray-900">{{ order.city }}, {{ order.address }}, {{ order.postal_code }}</p>
            </div>
        </div>
        <div class="border-t border-gray-100 pt-4 space-y-3">
            {% for item in order.items.all %}
            <div class="flex justify-between items-center text-sm">
                <span class="text-gray-700">{{ item.product_name }} √ó {{ item.quantity }}</span>
                <span class="font-bold">{{ item.get_total_price|floatformat:0|intcomma }}‚ÇΩ</span>
            </div>
            {% endfor %}
            <div class="border-t border-gray-100 pt-3 flex justify-between font-black">
                <span>–ò—Ç–æ–≥–æ</span>
                <span class="text-xl">{{ order.total|floatformat:0|intcomma }}‚ÇΩ</span>
            </div>
        </div>
    </div>

    <div class="bg-yellow-50 rounded-2xl p-5 mb-8 text-sm text-gray-700">
        üìß –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ <strong>{{ order.email }}</strong>
    </div>

    <div class="flex flex-col sm:flex-row gap-3 justify-center">
        <a href="{% url 'orders:detail' order.pk %}" class="btn-primary">–°–ª–µ–¥–∏—Ç—å –∑–∞ –∑–∞–∫–∞–∑–æ–º</a>
        <a href="{% url 'products:catalog' %}" class="btn-secondary">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∫—É–ø–∫–∏</a>
    </div>
</div>
{% endblock %}
